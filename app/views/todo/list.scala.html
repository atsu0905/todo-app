@*
以下はview templeteでの引数を受け取る記載です。
今回はTweetの一覧を取得するため@(tweets: Seq[Tweet]) となっています。
*@
@import lib.persistence.onMySQL.TodoRepository.EntityEmbeddedId
@(todos: Seq[EntityEmbeddedId])(implicit messagesProvider: MessagesProvider, requestHeader: RequestHeader)

@main("一覧画面") {
<h1>一覧画面です</h1>
<ul>
    @* Twirlでのfor記法です。forと(の間にスペースを入れると動かないので注意してください *1 *@
    @for(todo <- todos) {
    @* 削除用にフォームを追加 *@
    @helper.form(action = controllers.todo.routes.TodoController.delete()) {
    @helper.CSRF.formField
    <input type="hidden" value="@todo.v.id" name="id">
    <li>
        @* よくウェブ上で @routes.HomeController.index のようなものをみるがこれはtwirlではデフォルトでcontrollers.routesがインポートされているためcontroller部分が省略されているだけ。*@
        <a href="@controllers.todo.routes.TodoController.show(todo.v.id.getOrElse(0))">@todo.v.title</a>
    </li>
    @* 編集ページへのリンク追加 *@
    <li>
        <a href="@controllers.todo.routes.TodoController.edit(todo.v.id.getOrElse(0))">
            <button type="button">編集</button>
        </a>
    </li>
    <li>
        <input type="submit" value="削除">
    </li>
    }
    }
</ul>
}